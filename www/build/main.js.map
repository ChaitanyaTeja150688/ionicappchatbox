{"version":3,"sources":["../../src/pages/chatbox/chatpage.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/home/home.ts","../../src/pages/chatbox/speechservice.ts","../../src/pages/list/list.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/pages/pdf/pdf.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Component, AfterViewChecked, OnInit } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\nimport { Observable } from 'rxjs';\r\n//import { email } from \"emailjs/email\";\r\nimport { Http, Response, Headers, RequestOptions } from '@angular/http';\r\nimport { ApiAiClient } from \"api-ai-javascript\";\r\nimport { SpeechRecognitionService } from './speechservice';\r\n\r\ndeclare let jsPDF;\r\n\r\n@Component({\r\n  selector: 'chat-page',\r\n  templateUrl: 'chatpage.html'\r\n})\r\nexport class ChatPage implements AfterViewChecked, OnInit{\r\n  constructor(public navCtrl: NavController, private _http: Http, private speechRecognitionService: SpeechRecognitionService) {\r\n    this.client = new ApiAiClient({ accessToken: 'd03ed97ae4914599ad08c28082341944' });\r\n    this.showSearchButton = true;\r\n  }\r\n  mandrillObject: any;\r\n  url = 'https://pacific-shelf-28291.herokuapp.com';\r\n  //url = 'http://ushydmehepatel7:8080';\r\n  client: any;\r\n  freeText: string = '';\r\n  chatList= [];\r\n  prePopulateArray = [];\r\n  isPopulateDataAvaialble = false;\r\n  prePopulateType = '';\r\n  showSearchButton: boolean;\r\n  disableInput: boolean = false;\r\n  ngOnInit(){\r\n    this.disableInput = false;\r\n    this.sendMessage('Hi');\r\n    this.getData(this.url + \"/api/getVehicles\").subscribe(data => { console.log('vehicles'); });\r\n    this.getData(this.url + \"/api/getCoverages\").subscribe(data => { console.log('coverages'); });\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    this.scrollToBottom();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.speechRecognitionService.DestroySpeechObject();\r\n  }\r\n\r\n  activateSpeechSearchMovie(): void {\r\n    if(this.showSearchButton) {\r\n    this.showSearchButton = false;\r\n    this.speechRecognitionService.record()\r\n      .subscribe(\r\n      //listener\r\n      (value) => {\r\n          this.freeText = value;\r\n          this.showSearchButton = true;\r\n          console.log(value);\r\n      },\r\n      //errror\r\n      (err) => {\r\n          console.log(err);\r\n          if (err.error == \"no-speech\") {\r\n              console.log(\"--restatring service--\");\r\n              this.activateSpeechSearchMovie();\r\n          }\r\n      },\r\n      //completion\r\n      () => {\r\n          this.showSearchButton = true;\r\n          console.log(\"--complete--\");\r\n          this.activateSpeechSearchMovie();\r\n      });\r\n    }\r\n}\r\n\r\n  addText($event){\r\n    if($event.keyCode==\"13\"){\r\n      this.addTextButton();\r\n    }\r\n  }\r\n\r\n  addTextButton(){\r\n    if(this.freeText.length > 0){\r\n      this.chatList.push({id:this.chatList.length+1, text:this.freeText,time: this.getTime(), sent:true});\r\n      this.sendMessage(this.freeText);\r\n    }\r\n  }\r\n\r\n  selectedCoverages: string = '';\r\n  onSelection(event: any, item): void {\r\n    if(this.disableInput) {\r\n      if(item.text == 'Quit'){\r\n        window.alert('Thank you');\r\n      } else {\r\n        this.chatList = [];\r\n        this.selectionData = [];\r\n        this.showSearchButton = true;\r\n        this.ngOnInit();\r\n      }\r\n    } else {\r\n      this.chatList.push({id:this.chatList.length+1, text:item.text,time: this.getTime(), sent:true});\r\n      this.sendMessage(item.text);\r\n    }\r\n  }\r\n\r\n  createBody(){\r\n    let table = '<table style=\"border-collapse: collapse;width: 100%;\">'\r\n    for(let item of this.selectionData){\r\n      if(item.type){\r\n        table = table + '<tr style=\"background-color: #f2f2f2\"><td style=\"text-align: left;padding: 8px;border: 1px solid black;\">' + item.type + '</td><td style=\"text-align: left;padding: 8px;border: 1px solid black;\">' + item.text + '</td></tr>';\r\n      }\r\n    }\r\n    table = table + '</table>';\r\n    return table;\r\n  }\r\n\r\n  isEven(n) {\r\n    n = Number(n);\r\n    return n === 0 || !!(n && !(n%2));\r\n  }\r\n\r\n  createEmailBody(){\r\n    let table = ''\r\n    let index = 0;\r\n    for(let item of this.selectionData){\r\n      if(item.type){\r\n        if(item.type != 'Quoted value'){\r\n          if(!this.isEven(index+1)){\r\n            table = table + '<tr><td style=\"text-align: left;font-size: 1.2em;line-height: 3.4em;background: #EEEEEE;padding-left: 10px;width: 20%;\">' + item.type + '</td><td style=\"text-align: left;font-size: 1.2em;line-height: 3.4em;background: #EEEEEE;padding-left: 10px;width: 60%;\">' + item.text + '</td></tr>';\r\n          }\r\n          else{\r\n            table = table + '<tr><td style=\"text-align: left;font-size: 1.2em;line-height: 3.4em;padding-left: 10px;width: 20%;\">' + item.type + '</td><td style=\"text-align: left;font-size: 1.2em;line-height: 3.4em;padding-left: 10px;width: 60%;\">' + item.text + '</td></tr>';\r\n          }item.text\r\n        }\r\n        else if(item.type === 'Quoted value'){\r\n          let quoteOffereed = item.text === \"$1,000 - Monthly\" ? '$50' : (item.text === \"$2,500 - Quaterly (save $500)\" ? '$125' : '$4,50');\r\n          let total = item.text === \"$1,000 - Monthly\" ? '$1,050 - Monthly' : (item.text === \"$2,500 - Quaterly (save $500)\" ? '$2,625 - Quaterly' : '$9,450 - Yearly');\r\n          table = table + '<tr><td style=\"padding-left: 10px;text-align:left;border-top: 1px solid #C1CED9;border-top: 1px solid #C1CED9;font-size: 1.2em;line-height: 3.4em;background: #EEEEEE;\">Covergaed Quote Value</td><td style=\"text-align: left;border-top: 1px solid #C1CED9;font-size: 1.2em;border-top: 1px solid #C1CED9;line-height: 3.4em;background: #EEEEEE;padding-left: 5%;\">'+ item.text +'</td></tr><tr><td  style=\"padding-left: 10px;text-align:left;border-top: 1px solid #C1CED9;border-top: 1px solid #C1CED9;font-size: 1.2em;line-height: 3.4em;\">TAX 5%</td><td style=\"text-align: left;border-top: 1px solid #C1CED9;font-size: 1.2em;border-top: 1px solid #C1CED9;line-height: 3.4em;padding-left: 5%;\">' + quoteOffereed + '</td></tr><tr><td style=\"padding-left: 10px;text-align:left;border-top: 1px solid #C1CED9;border-top: 1px solid #C1CED9;font-size: 1.2em;line-height: 3.4em;background: #EEEEEE;\">GRAND TOTAL</td><td style=\"text-align: left;border-top: 1px solid #C1CED9;font-size: 1.2em;border-top: 1px solid #C1CED9;line-height: 3.4em;background: #EEEEEE;padding-left: 5%;\">'+ total +'</td></tr>';\r\n        }\r\n        index++;\r\n      }\r\n    }\r\n    return table;\r\n  }\r\n\r\n  checkList(data, type) {\r\n    this.prePopulateType = type;\r\n    this.isPopulateDataAvaialble = true;\r\n    this.prePopulateArray = data;\r\n  }\r\n\r\n  selectionData = [];\r\n  selectionType = '';\r\n  sendMessage(message){\r\n    this.isPopulateDataAvaialble = false;\r\n    this.prePopulateArray = [];\r\n    this.selectionData.push({type:this.selectionType, text: message});\r\n    this.selectionType = '';\r\n    let checkCorporationStatus = false;\r\n    if(this.chatList.length >= 2) {\r\n      if(this.chatList[this.chatList.length-2].text == 'Sure, I will be able to assist you with that. To begin with, can you please provide your business name?') {\r\n        checkCorporationStatus = true;\r\n      }\r\n    }\r\n    this.client.textRequest(checkCorporationStatus ? message + ' corporation' :  message)\r\n    .then((response) => {\r\n      checkCorporationStatus = false;\r\n      this.chatList.push({id:this.chatList.length+1, text:response.result.fulfillment.speech,time: this.getTime(), sent:false});\r\n      this.freeText = '';\r\n      if(response.result.action){\r\n        if(response.result.action.length > 0){\r\n          if (response.result.action == \"BusinessName\") {\r\n            this.selectionData.push({type:response.result.action, text: response.result.resolvedQuery});\r\n            let data = [{ text: \"BAP\" }, { text: \"BOP\" }];\r\n            this.checkList(data, 'button');\r\n          }\r\n          else if(response.result.action == \"Address\"){\r\n            this.getData(this.url +'/api/getChatMessages').subscribe((data) => {\r\n              if (data) {\r\n                this.selectionData.push({type:response.result.action, text: response.result.resolvedQuery});\r\n                this.checkList(data, 'button');\r\n              }\r\n            });\r\n          }\r\n          else if (response.result.action == \"Coverages\") {\r\n            this.getData(this.url + \"/api/getCoverages\").subscribe(data => {\r\n              this.checkList(data, 'checkBoxList');\r\n            });\r\n          }\r\n          else if (response.result.action == \"CoverageSelected\") {\r\n            this.radioSelected = '';\r\n            this.selectionData.push({type:'Coverage selected', text: response.result.resolvedQuery});\r\n            let data = [{ text: '$1,000 - Monthly'}, { text: '$2,500 - Quaterly (save $500)'},{ text:  '$9,000 - Yearly (save $3,000)'}];\r\n            this.checkList(data, 'radio');\r\n          }\r\n          else if (response.result.action == \"quoteSelection\") {\r\n            this.selectionData.push({type:'Quoted value', text: response.result.resolvedQuery});\r\n          }\r\n          else if (response.result.action == \"emailConfirmation\") {\r\n            this.disableInput = true;\r\n            let data = [{ text: \"Start over new chat\" }, { text: \"Quit\" }];\r\n            this.checkList(data, 'button');\r\n            let subject = ('Coverage Details');\r\n            let table = this.createBody();\r\n            let table1 = this.createEmailBody();\r\n            let xyz = '<body style=\"border: 1px soild grey;width:100%;height:100%;overflow-y: auto; padding-left: 5%;padding-right: 5%;padding-top: 2%;\"><h1 style=\"width:100%;background:blue;color:white;display: table;clear: both; text-align:center;font-family: Junge;font-size: 2.4em;line-height: 1.4em;font-weight: normal;text-align: center;\"> Insurance Coverage Details</h1><p style=\"padding-left:20px;\">Good Day! </p><p style=\"padding-left:20px;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We are glad to help you in quoting your policy. </p>' +\r\n              '<p style=\"padding-left:20px;\">Below are the details captured from our conversation, Please reply to us if anything needs to be correted or missing.</p><table style=\"margin-left:10%;width: 80%;margin-bottom: 30px;\"><thead><tr><th style=\"text-align: left;padding: 5px 20px;color: #5D6975;border-bottom: 1px solid #C1CED9;white-space: nowrap; font-weight: normal;line-height: 1.4em;font-size: 1.6em\">Classification</th><th style=\"text-align: left;padding: 5px 20px;color: #5D6975;border-bottom: 1px solid #C1CED9;white-space: nowrap; font-weight: normal;line-height: 1.4em;font-size: 1.6em\">Values</th>' +\r\n              '</tr></thead><tbody>' + table1 + '</tbody></table><p>Please contact our team on below address or else you contact through email/phone on below details.</p>' +\r\n              '<div id=\"details\" style=\"display: table;clear: both;\"><div style=\"float: left;\"><div style=\"padding-right: 10px;height: 30px;display: inline-block;text-align: center;line-height: 30px;vertical-align: middle;\"><span>Company Name:   </span>Insurance Company</div><br/>' +\r\n              '<div style=\"padding-right: 10px;height: 30px;display: inline-block;text-align: center;line-height: 30px;vertical-align: middle;\"><span>Address:   </span>455 Foggy Heights, AZ 85004, US</div><br/><div style=\"padding-right: 10px;height: 30px;display: inline-block;text-align: center;line-height: 30px;vertical-align: middle;\"><span>Phone:   </span>(602) 111-0000</div><br/><div style=\"padding-right: 10px;height: 30px;display: inline-block;text-align: center;line-height: 30px;vertical-align: middle;\"><span>Email:   </span> <a href=\"mailto:john@example.com\">company@example.com</a></div><br/>' +\r\n              '</div></div><div id=\"notices\"><div>NOTICE:</div><div class=\"notice\">A finance charge of 1.5% will be made on unpaid balances after 30 days.</div></div></body>';\r\n              \r\n            let body = ('<html><head>Good Day! </head><p>Below are the details captured from our conversation, Please reply to us if anything needs to be correted or missing</p>'+ table +'<p>We will get back to you soon.</p></html>');\r\n            let objectBody = [{\r\n              \"name\": \"Marcus Frankbutter\",\r\n              \"toEmail\": this.chatList[this.chatList.length-2].text,\r\n              \"subject\": subject,\r\n              \"body\": body\r\n            }]\r\n            // let doc = new jsPDF();\r\n            // let elementHandler = {\r\n            //   '#ignorePDF': function (element, renderer) {\r\n            //     return true;\r\n            //   }\r\n            // };\r\n            // doc.fromHTML(table,15,15,{\r\n            //   'width': 180,'elementHandlers': elementHandler\r\n            // });\r\n            // let file = doc.output();\r\n            var doc = new jsPDF(\"l\", \"pt\", \"letter\");\r\n            doc.fromHTML(xyz, 20, 20);\r\n            var file = doc.output('blob');\r\n            this.sendEmail({params : objectBody}, file).subscribe(\r\n              data => {\r\n                console.log('mail sent');\r\n              }\r\n            );\r\n          }\r\n          else if(response.result.action == \"Make\"){\r\n            this.getData(this.url + \"/api/getVehicles\").subscribe(data => {\r\n              this.selectionData.push({type:response.result.action, text: response.result.resolvedQuery});\r\n              this.checkList(data, 'button');\r\n            });\r\n          }\r\n          else if(response.result.action != 'input.unknown'){\r\n            this.selectionData.push({type:response.result.action, text: response.result.resolvedQuery});\r\n          }\r\n        }\r\n      }\r\n    })\r\n    .catch((error) => {/* do something here too */ });\r\n  }\r\n\r\n  scrollToBottom(): void {\r\n    document.querySelector('.last-msg')?document.querySelector('.last-msg').scrollIntoView():void(0);\r\n  }\r\n\r\n  getTime(){\r\n    let date = new Date();\r\n    return date.toLocaleString('en-US', { hour: 'numeric',minute:'numeric', hour12: true });\r\n  }\r\n\r\n  radioSelected: any;\r\n  onRadioSelection(item, indx) {\r\n    this.freeText = this.radioSelected;\r\n  }\r\n  \r\n  onCheckBoxSelection(index){\r\n    let selectedArray = '';\r\n    this.prePopulateArray[index].checked = !this.prePopulateArray[index].checked;\r\n    for(let key of this.prePopulateArray){\r\n      if(key.checked === true){\r\n          selectedArray = selectedArray === '' ? key.text : selectedArray + ', ' + key.text;\r\n      }\r\n    }\r\n    this.freeText = selectedArray;\r\n  }\r\n\r\n  getData(getUrl): Observable<any[]> {\r\n    let myHeaders = new Headers();\r\n    let url = getUrl;\r\n    myHeaders.append('x-apikey', '475c35720b2d03bae18ce68095778adf0e782');\r\n    let options = new RequestOptions({ headers: myHeaders });\r\n    return this._http.get(url, options).map(this.extractData).catch(this.handleError);\r\n  }\r\n\r\n  private extractData(res: Response) {\r\n    let body = res.json();\r\n    if (body.result && body.result.response) {\r\n      return { result: body.result.response };\r\n    } else {\r\n      return body;\r\n    }\r\n  };\r\n\r\n  handleError(error: Response) {\r\n    if (error.status == 404) {\r\n      return Observable.throw(error);\r\n    } else {\r\n      let errObj, errorJSON;\r\n      errorJSON = error.json();\r\n      errObj = errorJSON.error || errorJSON;\r\n      errObj.status = error.status;\r\n      errObj.statusText = error.statusText;\r\n      return Observable.throw(errObj);\r\n    }\r\n  };\r\n\r\n  sendEmail(params, file): Observable<any> {\r\n    let url = this.url + '/api/sendEmail';\r\n    var fd = new FormData();     // To carry on your data  \r\n    fd.append('file',file);\r\n    fd.append('body', JSON.stringify(params));\r\n    return this._http.post(url, fd)\r\n    .map((res: Response) => {\r\n      return res.json();\r\n    })\r\n    .catch((error: any) => {\r\n      return Observable.throw(error.json().error || 'Server error');\r\n    });\r\n  }\r\n\r\n  post(data, method, handler): Observable<any> {\r\n    let body = { id: '1', method: method, params: data, jsonrpc: '2.0' }\r\n    let requestPayload = JSON.stringify(body);\r\n    let url = this.url + '/api/' + handler;\r\n    return this._http.post(url, requestPayload)\r\n      .map((res: Response) => {\r\n        return res.json();\r\n      })\r\n      .catch((error: any) => {\r\n        return Observable.throw(error.json().error || 'Server error');\r\n      });\r\n  }\r\n\r\n//   upgrade() {\r\n//     //start_button.style.visibility = 'hidden';\r\n//     //showInfo('info_upgrade');\r\n//   }\r\n//   final_transcript = '';\r\n//   recognizing = false;\r\n//   ignore_onend;\r\n//   start_timestamp;\r\n//   recognition: any;\r\n//   checkWindow () {\r\n//   let windowCheck = 'webkitSpeechRecognition' in window;\r\n//   if (!windowCheck) {\r\n//     // upgrade();\r\n//   } else {\r\n//     //start_button.style.display = 'inline-block';\r\n//     this.recognition = new webkitSpeechRecognition();\r\n//     this.recognition.continuous = true;\r\n//     this.recognition.interimResults = true;\r\n//     this.recognition.onstart = function() {\r\n//       this.recognizing = true;\r\n//       //this.showInfo('info_speak_now');\r\n//       //start_img.src = 'mic-animate.gif';\r\n//     };\r\n//     // recognition.onerror = function(event) {\r\n//     //   if (event.error == 'no-speech') {\r\n//     //     start_img.src = 'mic.gif';\r\n//     //     this.showInfo('info_no_speech');\r\n//     //     ignore_onend = true;\r\n//     //   }\r\n//     //   if (event.error == 'audio-capture') {\r\n//     //     start_img.src = 'mic.gif';\r\n//     //     this.showInfo('info_no_microphone');\r\n//     //     ignore_onend = true;\r\n//     //   }\r\n//     //   if (event.error == 'not-allowed') {\r\n//     //     if (event.timeStamp - start_timestamp < 100) {\r\n//     //       this.showInfo('info_blocked');\r\n//     //     } else {\r\n//     //       this.showInfo('info_denied');\r\n//     //     }\r\n//     //     ignore_onend = true;\r\n//     //   }\r\n//     // };\r\n//     this.recognition.onend = function() {\r\n//       this.recognizing = false;\r\n//       if (this.ignore_onend) {\r\n//         return;\r\n//       }\r\n//       //start_img.src = 'mic.gif';\r\n//       if (!this.final_transcript) {\r\n//         this.showInfo('info_start');\r\n//         return;\r\n//       }\r\n//       this.showInfo('');\r\n//       if (window.getSelection) {\r\n//         window.getSelection().removeAllRanges();\r\n//         var range = document.createRange();\r\n//         range.selectNode(document.getElementById('final_span'));\r\n//         window.getSelection().addRange(range);\r\n//       }\r\n//     };\r\n//     this.recognition.onresult = function(event) {\r\n//       var interim_transcript = '';\r\n//       for (var i = event.resultIndex; i < event.results.length; ++i) {\r\n//         if (event.results[i].isFinal) {\r\n//           this.final_transcript += event.results[i][0].transcript;\r\n//         } else {\r\n//           interim_transcript += event.results[i][0].transcript;\r\n//         }\r\n//       }\r\n//       //this.final_transcript = capitalize(this.final_transcript);\r\n//       //final_span.innerHTML = linebreak(this.final_transcript);\r\n//       //interim_span.innerHTML = linebreak(interim_transcript);\r\n//       if (this.final_transcript || interim_transcript) {\r\n//         //showButtons('inline-block');\r\n//       }\r\n//     };\r\n//   }\r\n// }\r\n\r\n// showInfo(s) {\r\n// //   if (s) {\r\n// //     for (var child = info.firstChild; child; child = child.nextSibling) {\r\n// //       if (child.style) {\r\n// //         child.style.display = child.id == s ? 'inline' : 'none';\r\n// //       }\r\n// //     }\r\n// //     info.style.visibility = 'visible';\r\n// //   } else {\r\n// //     info.style.visibility = 'hidden';\r\n// //   }\r\n//  }\r\n\r\n//  startButton(event) {\r\n//   if (this.recognizing) {\r\n//     this.recognition.stop();\r\n//     return;\r\n//   }\r\n//   this.final_transcript = '';\r\n//   this.recognition.lang = 'English';\r\n//   this.recognition.start();\r\n//   this.ignore_onend = false;\r\n// //  final_span.innerHTML = '';\r\n//   //interim_span.innerHTML = '';\r\n//   //start_img.src = 'mic-slash.gif';\r\n//   this.showInfo('info_allow');\r\n//   //this.showButtons('none');\r\n//   //start_timestamp = event.timeStamp;\r\n// }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chatbox/chatpage.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 138;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 138\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 181;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 181\n// module chunks = 0","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { ChatPage } from '../chatbox/chatpage';\nimport { PDFPage } from '../pdf/pdf';\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n\n  constructor(public navCtrl: NavController) {\n\n  }\n\n  redirectToChatBox() {\n    this.navCtrl.setRoot(ChatPage);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Injectable, NgZone } from '@angular/core';\r\nimport { Observable } from 'rxjs/Rx';\r\nimport * as _ from \"lodash\";\r\n\r\ninterface IWindow extends Window {\r\n    webkitSpeechRecognition: any;\r\n    SpeechRecognition: any;\r\n}\r\n\r\n@Injectable()\r\nexport class SpeechRecognitionService {\r\n    speechRecognition: any;\r\n\r\n    constructor(private zone: NgZone) {\r\n    }\r\n\r\n    record(): Observable<string> {\r\n\r\n        return Observable.create(observer => {\r\n            const { webkitSpeechRecognition }: IWindow = <IWindow>window;\r\n            this.speechRecognition = new webkitSpeechRecognition();\r\n            this.speechRecognition.continuous = true;\r\n            //this.speechRecognition.interimResults = true;\r\n            this.speechRecognition.lang = 'en-us';\r\n            this.speechRecognition.maxAlternatives = 1;\r\n\r\n            this.speechRecognition.onresult = speech => {\r\n                let term: string = \"\";\r\n                if (speech.results) {\r\n                    var result = speech.results[speech.resultIndex];\r\n                    var transcript = result[0].transcript;\r\n                    if (result.isFinal) {\r\n                        if (result[0].confidence < 0.3) {\r\n                            console.log(\"Unrecognized result - Please try again\");\r\n                        }\r\n                        else {\r\n                            term = _.trim(transcript);\r\n                            console.log(\"Did you said? -> \" + term + \" , If not then say something else...\");\r\n                        }\r\n                    }\r\n                }\r\n                this.zone.run(() => {\r\n                    observer.next(term);\r\n                });\r\n            };\r\n\r\n            this.speechRecognition.onerror = error => {\r\n                observer.error(error);\r\n            };\r\n\r\n            this.speechRecognition.onend = () => {\r\n                observer.complete();\r\n            };\r\n\r\n            this.speechRecognition.start();\r\n            console.log(\"Say something - We are listening !!!\");\r\n        });\r\n    }\r\n\r\n    DestroySpeechObject() {\r\n        if (this.speechRecognition)\r\n            this.speechRecognition.stop();\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chatbox/speechservice.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\n\n@Component({\n  selector: 'page-list',\n  templateUrl: 'list.html'\n})\nexport class ListPage {\n  selectedItem: any;\n  icons: string[];\n  items: Array<{title: string, note: string, icon: string}>;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n    // If we navigated to this page, we will have an item available as a nav param\n    this.selectedItem = navParams.get('item');\n\n    // Let's populate this page with some filler content for funzies\n    this.icons = ['flask', 'wifi', 'beer', 'football', 'basketball', 'paper-plane',\n    'american-football', 'boat', 'bluetooth', 'build'];\n\n    this.items = [];\n    for (let i = 1; i < 11; i++) {\n      this.items.push({\n        title: 'Item ' + i,\n        note: 'This is item #' + i,\n        icon: this.icons[Math.floor(Math.random() * this.icons.length)]\n      });\n    }\n  }\n\n  itemTapped(event, item) {\n    // That's right, we're pushing to ourselves!\n    this.navCtrl.push(ListPage, {\n      item: item\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/list/list.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { HttpModule } from '@angular/http';\n\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\nimport { ChatPage } from '../pages/chatbox/chatpage';\nimport { ListPage } from '../pages/list/list';\nimport { PDFPage } from '../pages/pdf/pdf';\n\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { SpeechRecognitionService } from '../pages/chatbox/speechservice';\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage,\n    ChatPage,\n    ListPage,\n    PDFPage\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    HttpModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage,\n    ChatPage,\n    ListPage,\n    PDFPage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    SpeechRecognitionService,\n    {provide: ErrorHandler, useClass: IonicErrorHandler}\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { Nav, Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { HomePage } from '../pages/home/home';\nimport { ListPage } from '../pages/list/list';\nimport { ChatPage } from '../pages/chatbox/chatpage';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  @ViewChild(Nav) nav: Nav;\n\n  rootPage: any = ChatPage;\n\n  pages: Array<{title: string, component: any}>;\n\n  constructor(public platform: Platform, public statusBar: StatusBar, public splashScreen: SplashScreen) {\n    this.initializeApp();\n\n    // used for an example of ngFor and navigation\n    this.pages = [\n      { title: 'Home', component: HomePage },\n      { title: 'List', component: ListPage }\n    ];\n\n  }\n\n  initializeApp() {\n    this.platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      this.statusBar.styleDefault();\n      this.splashScreen.hide();\n    });\n  }\n\n  openPage(page) {\n    // Reset the content nav to have just this page\n    // we wouldn't want the back button to show in this scenario\n    this.nav.setRoot(page.component);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Component, AfterViewChecked, OnInit } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\n\r\n@Component({\r\n  selector: 'pdf-page',\r\n  templateUrl: 'pdf.html'\r\n})\r\nexport class PDFPage {\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pdf/pdf.ts"],"sourceRoot":""}